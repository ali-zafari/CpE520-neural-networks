\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{matlab}

\RequirePackage{verbatim}
\RequirePackage{fancyvrb}
\RequirePackage{alltt}
\RequirePackage{upquote}
\RequirePackage[framemethod=tikz]{mdframed}
\RequirePackage{hyperref}
\RequirePackage{color}

%code added by ali zafari%%%%%%%%%%%%%%%
\usepackage{listings}
\usepackage{matlab-prettifier}
\usepackage{fancyhdr}
%prevent latex toc from numbering
\setcounter{secnumdepth}{-2}

\definecolor{brickred}{rgb}{0.7, 0.11, 0.11}

\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.25in
\linespread{1.2}

\newcommand{\hmwkTitle}{HW\#8}
\newcommand{\hmwkDueDate}{}
\newcommand{\hmwkClass}{CpE 520}
\newcommand{\institute}{West Virginia University}
\newcommand{\hmwkClassInstructor}{Professor Nasser Nasrabadi}
\newcommand{\hmwkAuthorName}{\textbf{Ali Zafari}}

\title{
	\vspace{2in}
	\textmd{\textbf{\hmwkClass:\ \hmwkTitle}}\\
	\vspace{0.1in}\large{\institute}\\
%	\vspace{0.1in}\large{\textit{\hmwkClassInstructor}}
	\vspace{3in}
}

\author{\hmwkAuthorName}
\date{}

%code added by ali zafari%%%%%%%%%%%%%%%


\newcommand{\maxwidth}[1]{\ifdim\linewidth>#1 #1\else\linewidth\fi}
\newcommand{\mlcell}[1]{{\color{output}\verbatim@font#1}}

\definecolor{output}{gray}{0.4}

% Unicode character conversions
\DeclareUnicodeCharacter{B0}{\ensuremath{^\circ}}
\DeclareUnicodeCharacter{21B5}{\ensuremath{\hookleftarrow}}

% Paragraph indentation
\setlength{\parindent}{0pt}

% Hyperlink style
\hypersetup{
colorlinks=true,
linkcolor=brickred,
urlcolor=brickred
}


%ali zafari environment%%%%%%%%%%%%%%%%%

\mdfdefinestyle{matlabcode}{%
	outerlinewidth=.5pt,
	linecolor=gray!20!white,
	roundcorner=2pt,
	innertopmargin=.5\baselineskip,
	innerbottommargin=.5\baselineskip,
	innerleftmargin=2.2em,
	innerrightmargin=0em,
	backgroundcolor=gray!10!white
}
\lstnewenvironment{matlabcode}{\lstset{style=Matlab-editor, numbers=left, basicstyle=\small}}{}
\surroundwithmdframed[style=matlabcode]{matlabcode}

\mdfdefinestyle{matlaboutput}{%
	outerlinewidth=.5pt,
	linecolor=gray!20!white,
	roundcorner=2pt,
	innertopmargin=0.2em,
	innerbottommargin=0.2em,
	innerleftmargin=0.2em,
	innerrightmargin=0em,
	backgroundcolor=white
}
\lstnewenvironment{matlaboutput}{\lstset{breaklines=true, basicstyle=\tiny}}{}
\surroundwithmdframed[style=matlaboutput]{matlaboutput}
%ali zafari environment%%%%%%%%%%%%%%%%%



% environment styles for MATLAB code and output
%\mdfdefinestyle{matlabcode}{%
%  outerlinewidth=.5pt,
%  linecolor=gray!20!white,
%  roundcorner=2pt,
%  innertopmargin=.5\baselineskip,
%  innerbottommargin=.5\baselineskip,
%  innerleftmargin=1em,
%  backgroundcolor=gray!10!white
%}

%\newenvironment{matlabcode}{\verbatim}{\endverbatim}
%\surroundwithmdframed[style=matlabcode]{matlabcode}

%\newenvironment{matlaboutput}{%
%  \Verbatim[xleftmargin=1.25em, formatcom=\color{output}]%
%}{\endVerbatim}

\newenvironment{matlabsymbolicoutput}{%
  \list{}{\leftmargin=1.25em\relax}%
  \item\relax%
  \color{output}\verbatim@font%
}{\endlist}

\newenvironment{matlabtableoutput}[1]{%
  {\color{output}%
  \hspace*{1.25em}#1}%
}{}


% Table of Contents style
\newcounter{multititle}
\newcommand{\matlabmultipletitles}{\setcounter{multititle}{1}}

\newcounter{hastoc}
\newcommand{\matlabhastoc}{\setcounter{hastoc}{1}}



\newcommand{\matlabtitle}[1]{
\section{#1}
}

\newcommand{\matlabheading}[1]{
\subsection{#1}
}

\newcommand{\matlabheadingtwo}[1]{
\subsubsection{#1}
}

\newcommand{\matlabheadingthree}[1]{
\paragraph{#1}
}

\newcommand{\matlabtableofcontents}[1]{
\renewcommand{\contentsname}{#1}
\tableofcontents
\pagebreak
}
 